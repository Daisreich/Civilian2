// This is base rule script file for AI response system for Expressive AI's who speak based on certain "Concepts"
// You can think of a concept as a high level state that code is trying to convey, such as say hello, or say you're mad, etc.
//
// format of this file is that there are five main types of commands:
// 1) #include "filename"	// This just causes included scriptfile to be parsed and added to database
// 2) enumeration:  this declares an enumerated type so that comparisons can be matched against string versions of type
// 3) response:  this specifies a response to issue.  A response consists of a weighted set of options and can recursively reference
//    other responses by name
// 4) criterion:  This is a match condition
// 5) rule:  a rule consists of one or more criteria and a response
//
// In general, system is presented with a criteria set, which is a set of key value pairs generated by game code and
//  various entity I/O and keyfields.  For instance, following criteria set was created in a map with a train terminal 
// "speaker" entity wishing to fire random station announcements
//               concept = 'train_speaker' (weight 5.000000)		; high level concept for search request
//                   map = 'terminal_pa'							; name of map
//             classname = 'speaker'								; classname and name of "speaking" entity
//                  name = 'terminal_pa'
//                health = '10'										; absolute health of speaking entity
//            healthfrac = '0.000'									; health fraction (health/maxhealth) of speaking entity
//          playerhealth = '100'									; similar data related to current player:
//      playerhealthfrac = '1.000'
//          playerweapon = 'none'									; name of weapon player is carrying
//        playeractivity = 'ACT_WALK'								; animating activity of player
//           playerspeed = '0.000'									; how fast player is moving
//
// Based on such a criteria set, system checks each rule against set.  To do this, each criterion of rule is
//  given a numeric score as follows:
// score = 0 if criteria doesn't match or, criterion weight * keyvaliue weight if it does match
// final score for a rule is sum of all of scores of its criteria.  best rule is one with highest
//  score.  Once a best rule is selected, then a response is looked up based on response definitions and engine is
//  asked to dispatch that response.
//
// specific syntax for various keywords is as follows:
//
// ENUMERATIONS:
//
// enumeration <enumerationname>
// { 
//		"key1" "value1"
//		"key2" "value2"
//		...etc.
//	}
//	code and criteria refer to enumerations with square brackets and a double colon separator, e.g.:
//  [enumerationname::key1]
//
//
// RESPONSES:
//
// Single line: 
// response <responsegroupname> [nodelay | defaultdelay | delay interval ] [speakonce] [noscene] [odds nnn] [respeakdelay interval] [soundelvel "SNDLVL_xxx"] responsetype parameters
// Multiple lines
// response <responsegroupname>
// {
//		[permitrepeats]   ; optional parameter, by default we visit all responses in group before repeating any
//		[sequential]	  ; optional parameter, by default we randomly choose responses, but with this we walk through list starting at first and going to last
//		[norepeat]		  ; Once we've run through all of entries, disable response group
//		responsetype1 parameters1 [nodelay | defaultdelay | delay interval ] [speakonce] [odds nnn] [respeakdelay interval] [soundelvel "SNDLVL_xxx"] [displayfirst] [ displaylast ] weight nnn
//		responsetype2 parameters2 [nodelay | defaultdelay | delay interval ] [speakonce] [odds nnn] [respeakdelay interval] [soundelvel "SNDLVL_xxx"] [displayfirst] [ displaylast ] weight nnn
//		etc.
// }
// Where: 
//   interval = "startnumber,endnumber" or "number" (e.g., "2.8,3.2" or "3.2")
//   responsetype =:
//     speak		; it's an entry in sounds.txt
//     sentence		; it's a sentence name from sentences.txt
//     scene		; it's a .vcd file
//     response		; it's a reference to another response group by name
//     print      ; print text in developer 2 (for placeholder responses)
//   nodelay = an additional delay of 0 after speaking
//   defaultdelay = an additional delay of 2.8 to 3.2 seconds after speaking
//   delay interval = an additional delay based on a random sample from interval after speaking
//   predelay interval = delays speech for time interval. NOTE: Only works on scenes (i.e. no sentences/speak/print)
//   speakonce = don't use this response more than one time (default off)
//	 noscene = For an NPC, play sound immediately using EmitSound, don't play it through scene system. Good for playing sounds on dying or dead NPCs.
//   odds = if this response is selected, if odds < 100, then there is a chance that nothing will be said (default 100)
//	 respeakdelay = don't use this response again for at least this long (default 0)
//   soundlevel = use this soundlevel for speak/sentence (default SNDLVL_TALKING)
//   weight = if there are multiple responses, this is a selection weighting so that certain responses are favored over others in group (default 1)
//   displayfirst/displaylast : this should be first/last item selected (ignores weight)
//
// CRITERIA:
//
// criterion <criterionname> <matchkey> <matchvalue> weight nnn required
// Where:
//  matchkey matches one of criteria in set as shown above
//  matchvalue is a string or number value or a range, following are all valid:
//  "0"						; numeric match to value 0
//  "1"						; numeric match to value 1
//   "weapon_smg1"			; string match to weapon_smg1 string
//   "[npcstate::idle]"		; match enumeration by looking up numeric value
//   ">0"					; match if greater than zero
//   ">10,<=50"				; match if greater than ten and less than or equal to 50
//   ">0,<[npcstate::alert]"	; match if greater than zer and les then value of enumeration for alert
//   "!=0"					; match if not equal to zero
// weight = floating point weighting for score assuming criteria match (default value 1.0)
// required:  if a rule has one or more criteria with required flag set, then if any such criteria
//  fail, entire rule receives a score of zero
//
// RULE:
//
// rule <rulename>
// {
//    criteria name1 [name2 name3 etc.]
//    response responsegroupname [responsegroupname2 etc.]
//    [matchonce]					; optional parameter
//	  [ <matchkey > <matchvalue> weight nnn required ]
// }
// Where:
// criteria just lies one more more criterion names from above and response list one or more of response
// names from above (usually just one)
// matchonce (off by default): means that rule is deactivated after first time it is matched
// Note that additional "unnamed" criteria can be specified inline in rule using same syntax
// as for defining a criterion, except for criterion keyword and criterion name keys
//
// Interaction with entity I/O system
// CBaseEntity contains an inputfunc called "DispatchResponse" which accepts a string which is a concept name
//  Thus, a game entity can fire this input on another entity with a concept string and a criteria set will
//  be generated and searched against entities current response system rule set.
// Right now only speaker entity and NPC_Talker derived NPCs have any response rules loaded
// In addition, map placed entities have up to three "context" keypairs that can be specified.
// They take form:  "key:value" (key, single colon separator, value)
// When an entity with any such context keypairs is asked to dispatch a response, keypairs are added to the
//  criteria set passed to rule system.  Thus, map placed entities and triggers can specify their
//  own context keypairs and these can be hooked up to response rules to do map-specific and appropriate
//  responses
// In addition, entity I/O can be used to add, remove and clear any such context keypairs via the
//   AddContext, RemoveContext, and ClearContext input functions.
// AddContext takes a keypair of "key:value" format, while RemoveContext take just "key"
// ClearContext removes all context keypairs
// game .dll code can enumerate context keypairs and change them via code based methods
//
// player and world have their context added with string player or world as a prefix, e.g.:
//  "playerkey:value" or "worldkey:value" to differentiate world/player context from context of the
//  responding entity.

// Base script
enumeration "NPCState"
{
	"None"		"0"
	"Idle"		"1"
	"Alert"		"2"
	"Combat"	"3"
	"Scripted"	"4"
	"PlayDead"	"5"
	"Dead"		"6"
}

criterion "ConceptPlayerTaunt" "Concept" "TLK_PLAYER_TAUNT" "required"
criterion "ConceptPlayerThanks" "Concept" "TLK_PLAYER_THANKS" "required"
criterion "ConceptPlayerMedic" "Concept" "TLK_PLAYER_MEDIC" required
criterion "ConceptPlayerHelp" "Concept" "TLK_PLAYER_HELP" required
criterion "ConceptPlayerGo" "Concept"  "TLK_PLAYER_GO" required
criterion "ConceptPlayerMoveUp" "Concept" "TLK_PLAYER_MOVEUP" required
criterion "ConceptPlayerLeft" "Concept" "TLK_PLAYER_LEFT" required
criterion "ConceptPlayerRight" "Concept" "TLK_PLAYER_RIGHT" required
criterion "ConceptPlayerYes" "Concept" "TLK_PLAYER_YES" required
criterion "ConceptPlayerNo" "Concept" "TLK_PLAYER_NO" required
criterion "ConceptPlayerIncoming" "Concept" "TLK_PLAYER_INCOMING" required
criterion "ConceptPlayerCloakedSpy" "Concept" "TLK_PLAYER_CLOAKEDSPY" required
criterion "ConceptPlayerSentryAhead" "Concept" "TLK_PLAYER_SENTRYAHEAD" required
criterion "ConceptPlayerTeleporterHere" "Concept" "TLK_PLAYER_TELEPORTERHERE" required
criterion "ConceptPlayerDispenserHere" "Concept" "TLK_PLAYER_DISPENSERHERE" required
criterion "ConceptPlayerSentryHere" "Concept" "TLK_PLAYER_SENTRYHERE" required
criterion "ConceptPlayerActivateCharge" "Concept" "TLK_PLAYER_ACTIVATECHARGE" required
criterion "ConceptPlayerChargeReady" "Concept" "TLK_PLAYER_CHARGEREADY" required
criterion "ConceptPlayerTaunts" "Concept" "TLK_PLAYER_TAUNTS" required
criterion "ConceptPlayerDefend" "Concept" "TLK_PLAYER_DEFEND" required
criterion "ConceptPlayerBattleCry" "Concept" "TLK_PLAYER_BATTLECRY" required
criterion "ConceptPlayerCheers" "Concept" "TLK_PLAYER_CHEERS" required
criterion "ConceptPlayerJeers" "Concept" "TLK_PLAYER_JEERS" required
criterion "ConceptPlayerPositive" "Concept" "TLK_PLAYER_POSITIVE" required
criterion "ConceptPlayerNegative" "Concept" "TLK_PLAYER_NEGATIVE" required
criterion "ConceptPlayerNiceShot" "Concept" "TLK_PLAYER_NICESHOT" required
criterion "ConceptPlayerGoodJob" "Concept" "TLK_PLAYER_GOODJOB" required
criterion "ConceptSpySapping" "Concept" "TLK_SPY_SAPPER" required
criterion "ConceptPain" "Concept" "TLK_PLAYER_PAIN" required
criterion "ConceptAttackerPain" "Concept" "TLK_PLAYER_ATTACKER_PAIN" required
criterion "ConceptFire" "Concept" "TLK_ONFIRE" required
criterion "ConceptCapBlocked" "Concept" "TLK_CAPTURE_BLOCKED" required
criterion "ConceptMedicChargeDeployed" "Concept" "TLK_MEDIC_CHARGEDEPLOYED" required
criterion "ConceptMedicChargeStopped" "Concept" "TLK_HEALTARGET_STOPPEDHEALING" required

criterion "ConceptEngineerPickupBuilding" "Concept" "TLK_PICKUP_BUILDING" required 
criterion "ConceptEngineerDeployBuilding" "Concept" "TLK_REDEPLOY_BUILDING" required 
criterion "ConceptEngineerCarryingBuilding" "Concept" "TLK_CARRYING_BUILDING" required 




criterion "ConceptScoutBallGrab" "Concept" "TLK_GRAB_BALL" required 



//Auto fire concepts
criterion "ConceptPlayerCapturedPoint" "Concept" "TLK_CAPTURED_POINT" required
criterion "ConceptPlayerRoundStart" "Concept" "TLK_ROUND_START" required
criterion "ConceptPlayerSuddenDeathStart" "Concept" "TLK_SUDDENDEATH_START" required
criterion "ConceptPlayerStalemate" "Concept" "TLK_STALEMATE" required
criterion "ConceptPlayerBuildingObject" "Concept" "TLK_BUILDING_OBJECT" required
criterion "ConceptPlayerDetonatedObject" "Concept" "TLK_DETONATED_OBJECT" required
criterion "ConceptLostObject" "Concept" "TLK_LOST_OBJECT" required
criterion "ConceptKilledObject" "Concept" "TLK_KILLED_OBJECT" required
criterion "ConceptMedicChargeReady" "Concept" "TLK_MEDIC_CHARGEREADY" required
criterion "ConceptTeleported" "Concept" "TLK_TELEPORTED" required
criterion "ConceptPlayerDead" "Concept" "TLK_DEAD" required

criterion "ConceptPlayerGrabbedIntelligence" "Concept" "TLK_FLAGPICKUP" required          
criterion "ConceptPlayerCapturedIntelligence" "Concept" "TLK_FLAGCAPTURED" required          

//cart stuff
criterion "ConceptCartMovingForward" "Concept" "TLK_CART_MOVING_FORWARD" required          
criterion "ConceptCartMovingStopped" "Concept" "TLK_CART_STOP" required          
criterion "ConceptCartMovingBackward" "Concept" "TLK_CART_MOVING_BACKWARD" required          

criterion "ConceptAteFood" "Concept" "TLK_ATE_FOOD" required          

//scout pack
criterion "ConceptDoubleJump" "Concept" "TLK_DOUBLE_JUMP" required
criterion "ConceptDodging" "Concept" "TLK_DODGING" required
criterion "ConceptDodgeShot" "Concept" "TLK_DODGE_SHOT" required
criterion "ConceptGrabBall" "Concept" "TLK_GRAB_BALL" required
criterion "ConceptRegenBall" "Concept" "TLK_REGEN_BALL" required
criterion "ConceptDeflected" "Concept" "TLK_DEFLECTED" required
criterion "ConceptBallMissed" "Concept" "TLK_BALL_MISSED" required
criterion "ConceptStunned" "Concept" "TLK_STUNNED" required
criterion "ConceptStunnedTarget" "Concept" "TLK_STUNNED_TARGET" required
criterion "ConceptTired" "Concept" "TLK_TIRED" required
criterion "ConceptBatBall" "Concept" "TLK_BAT_BALL" required
criterion "IsDoubleJumping" "DoubleJumping" "1" required
criterion "ConceptAchievementAward" "Concept" "TLK_ACHIEVEMENT_AWARD" required

// spy / sniper pack
criterion "ConceptJarateLaunch" "Concept" "TLK_JARATE_LAUNCH" required
criterion "ConceptJarateHit" "Concept" "TLK_JARATE_HIT" required

criterion "IsOnOffense" "teamrole" "offense" required
criterion "IsOnDefense" "teamrole" "defense" required


// Expressions
criterion "ConceptPlayerExpression" "Concept" "TLK_PLAYER_EXPRESSION" required


criterion "ConceptPlayerLostPoint" "Concept" "TLK_LOST_CONTROL_POINT'" required


// MvM criterion
criterion "IsMvMDefender" "IsMvMDefender" "1" required
criterion "ConceptMvMBombDropped" "Concept" "TLK_MVM_BOMB_DROPPED" required  
criterion "ConceptMvMBombCarrierUpgrade1" "Concept" "TLK_MVM_BOMB_CARRIER_UPGRADE1" required  
criterion "ConceptMvMBombCarrierUpgrade2" "Concept" "TLK_MVM_BOMB_CARRIER_UPGRADE2" required  
criterion "ConceptMvMBombCarrierUpgrade3" "Concept" "TLK_MVM_BOMB_CARRIER_UPGRADE3" required  
criterion "ConceptMvMDefenderDied" "Concept" "TLK_MVM_DEFENDER_DIED" required  
criterion "ConceptMvMFirstBombPickup" "Concept" "TLK_MVM_FIRST_BOMB_PICKUP" required  
criterion "ConceptMvMBombPickup" "Concept" "TLK_MVM_BOMB_PICKUP" required 
criterion "ConceptMvMSentryBuster" "Concept" "TLK_MVM_SENTRY_BUSTER" required 
criterion "ConceptMvMSentryBusterDown" "Concept" "TLK_MVM_SENTRY_BUSTER_DOWN" required 
criterion "ConceptMvMSniperCallout" "Concept" "TLK_MVM_SNIPER_CALLOUT" required 
criterion "ConceptMvMLastManStanding" "Concept" "TLK_MVM_LAST_MAN_STANDING" required 
criterion "ConceptMvMEncourageMoney" "Concept" "TLK_MVM_ENCOURAGE_MONEY" required 
criterion "ConceptMvMMoneyPickup" "Concept" "TLK_MVM_MONEY_PICKUP" required 
criterion "ConceptMvMEncourageUpgrade" "Concept" "TLK_MVM_ENCOURAGE_UPGRADE" required 
criterion "ConceptMvMUpgradeComplete" "Concept" "TLK_MVM_UPGRADE_COMPLETE" required 
criterion "ConceptMvMGiantCallout" "Concept" "TLK_MVM_GIANT_CALLOUT" required 
criterion "ConceptMvMGiantHasBomb" "Concept" "TLK_MVM_GIANT_HAS_BOMB" required 
criterion "ConceptMvMGiantKilled" "Concept" "TLK_MVM_GIANT_KILLED" required 
criterion "ConceptMvMGiantKilledTeammate" "Concept" "TLK_MVM_GIANT_KILLED_TEAMMATE" required 
criterion "ConceptMvMSappedRobot" "Concept" "TLK_MVM_SAPPED_ROBOT" required 
criterion "ConceptMvMCloseCall" "Concept" "TLK_MVM_CLOSE_CALL" required 
criterion "ConceptMvMTankCallout" "Concept" "TLK_MVM_TANK_CALLOUT" required 
criterion "ConceptMvMTankDead" "Concept" "TLK_MVM_TANK_DEAD" required 
criterion "ConceptMvMTankDeploying" "Concept" "TLK_MVM_TANK_DEPLOYING" required 
criterion "ConceptMvMAttackTheTank" "Concept" "TLK_MVM_ATTACK_THE_TANK" required 
criterion "ConceptMvMTaunt" "Concept" "TLK_MVM_TAUNT" required 
criterion "ConceptMvMWaveStart" "Concept" "TLK_MVM_WAVE_START" required 
criterion "ConceptMvMWaveWin" "Concept" "TLK_MVM_WAVE_WIN" required 
criterion "ConceptMvMWaveLose" "Concept" "TLK_MVM_WAVE_LOSE" required 
criterion "ConceptMvMDeployRage" "Concept" "TLK_MVM_DEPLOY_RAGE" required 
criterion "ConceptRocketDestroyed" "Concept" "TLK_ROCKET_DESTOYED" required 
//A Tale of Two Cities Update
criterion "ConceptMannhattanGateAttack" "Concept" "TLK_MANNHATTAN_GATE_ATK" required
criterion "ConceptMannhattanGateTake" "Concept" "TLK_MANNHATTAN_GATE_TAKE" required
criterion "ConceptMvMResurrected" "Concept" "TLK_RESURRECTED" required
criterion "ConceptMvMMedicShield" "Concept" "TLK_MEDIC_HEAL_SHIELD" required
criterion "ConceptMvMLootCommon" "Concept" "TLK_MVM_LOOT_COMMON" required
criterion "ConceptMvMLootRare" "Concept" "TLK_MVM_LOOT_RARE" required
criterion "ConceptMvMLootUltraRare" "Concept" "TLK_MVM_LOOT_ULTRARARE" required

criterion "IsSentryGun" "objtype" "sentrygun" required
criterion "IsTeleporter" "objtype" "teleporter" required
criterion "IsDispenser" "objtype" "dispenser" required
criterion "IsDisguised" "disguised" "1" required
criterion "IsWeaponPrimary" "weaponmode" "primary" required
criterion "IsWeaponSecondary" "weaponmode" "secondary" required
criterion "IsWeaponMelee" "weaponmode" "melee" required
criterion "IsWeaponBuilding" "weaponmode" "building" required
criterion "IsWeaponPda" "weaponmode" "pda" required


criterion "IsOnMetrocop" "crosshair_on" "Metrocop" "required"
criterion "IsOnScout" "crosshair_on" "Scout" "required"
criterion "IsOnSniper" "crosshair_on" "Sniper" "required"
criterion "IsOnGmodplayer" "crosshair_on" "Gmodplayer" "required"
criterion "IsOnSoldier" "crosshair_on" "Soldier" "required"
criterion "IsOnDemoman" "crosshair_on" "Demoman" "required"
criterion "IsOnMedic" "crosshair_on" "Medic" "required"
criterion "IsOnHeavy" "crosshair_on" "Heavy" "required"
criterion "IsOnPyro" "crosshair_on" "Pyro" "required"
criterion "IsOnSpy" "crosshair_on" "Spy" "required"
criterion "IsOnEngineer" "crosshair_on" "Engineer" "required"

criterion "IsDominated" "domination" "dominated" "required" 
criterion "IsRevenge" "domination" "revenge" "required" 
criterion "IsHeadShot" "customdeath" "headshot" "required" 


criterion "ConceptKilledPlayer" "Concept" "TLK_KILLED_PLAYER" required
criterion "KilledPlayerDelay" "worldDontKilledPlayer" "!=1" "required"

criterion "IsScout" "playerclass" "Scout" "required" 
criterion "IsCivilian" "playerclass" "Civilian_" "required" 
criterion "IsGmodplayer" "playerclass" "Gmodplayer" "required"
criterion "IsMetrocop" "playerclass" "Metrocop" "required"
criterion "IsSniper" "playerclass" "Sniper" "required"
criterion "IsSoldier" "playerclass" "Soldier" "required"
criterion "IsDemoman" "playerclass" "Demoman" "required"
criterion "IsMedic" "playerclass" "Medic" "required"
criterion "IsHeavy" "playerclass" "Heavy" "required"
criterion "IsPyro" "playerclass" "Pyro" "required"
criterion "IsSpy" "playerclass" "Spy" "required"
criterion "IsEngineer" "playerclass" "Engineer" "required"
criterion "Isscout" "playerclass" "Scout" "required" 
criterion "IsGmodplayer" "playerclass" "Gmodplayer" "required"
criterion "Issniper" "playerclass" "Sniper" "required"
criterion "Issoldier" "playerclass" "Soldier" "required"
criterion "Isdemoman" "playerclass" "Demoman" "required"
criterion "Ismedic" "playerclass" "Medic" "required"
criterion "Isheavy" "playerclass" "Heavy" "required"
criterion "Ispyro" "playerclass" "Pyro" "required"
criterion "Isspy" "playerclass" "Spy" "required"
criterion "Isengineer" "playerclass" "Engineer" "required"

criterion "IsNotScout" "playerclass" "!=Scout" "required" 
criterion "IsNotGmodplayer" "playerclass" "!=Gmodplayer" "required"
criterion "IsNotMetrocop" "playerclass" "!=Metrocop" "required"
criterion "IsNotSniper" "playerclass" "!=Sniper" "required"
criterion "IsNotSoldier" "playerclass" "!=Soldier" "required"
criterion "IsNotDemoman" "playerclass" "!=Demoman" "required"
criterion "IsNotMedic" "playerclass" "!=Medic" "required"
criterion "IsNotHeavy" "playerclass" "!=Heavy" "required"
criterion "IsNotPyro" "playerclass" "!=Pyro" "required"
criterion "IsNotSpy" "playerclass" "!=Spy" "required"
criterion "IsNotEngineer" "playerclass" "!=Engineer" "required"


criterion "IsVictimScout" "victimclass" "Scout" "required" weight 0
criterion "IsVictimSniper" "victimclass" "Sniper" "required" weight 0
criterion "IsVictimGmodplayer" "victimclass" "Gmodplayer" "required" weight 0
criterion "IsVictimSoldier" "victimclass" "Soldier" "required" weight 0
criterion "IsVictimDemoman" "victimclass" "Demoman" "required" weight 0
criterion "IsVictimMedic" "victimclass" "Medic" "required" weight 0
criterion "IsVictimHeavy" "victimclass" "Heavy" "required" weight 0
criterion "IsVictimPyro" "victimclass" "Pyro" "required" weight 0
criterion "IsVictimSpy" "victimclass" "Spy" "required" weight 0
criterion "IsVictimEngineer" "victimclass" "Engineer" "required"  weight 0

criterion "IsNotVictimScout" "victimclass" "!=Scout" "required" weight 0
criterion "IsNotVictimGmodplayer" "victimclass" "!=Gmodplayer" "required" weight 0
criterion "IsNotVictimSniper" "victimclass" "!=Sniper" "required" weight 0
criterion "IsNotVictimSoldier" "victimclass" "!=Soldier" "required" weight 0
criterion "IsNotVictimDemoman" "victimclass" "!=Demoman" "required" weight 0
criterion "IsNotVictimMedic" "victimclass" "!=Medic" "required" weight 0
criterion "IsNotVictimHeavy" "victimclass" "!=Heavy" "required" weight 0
criterion "IsNotVictimPyro" "victimclass" "!=Pyro" "required" weight 0
criterion "IsNotVictimSpy" "victimclass" "!=Spy" "required" weight 0
criterion "IsNotVictimEngineer" "victimclass" "!=Engineer" "required" weight 0
    


criterion "10PercentChance"  "randomnum"               ">90"   required
criterion "20PercentChance"  "randomnum"               ">80"   required
criterion "30PercentChance"  "randomnum"               ">70"   required
criterion "50PercentChance"  "randomnum"               ">50"   required
criterion "75PercentChance"  "randomnum"               ">25"   required
criterion "IsARecentKill"  "recentkills"               ">0"   required
criterion "IsManyRecentKills"  "recentkills"               ">1"   required
criterion "IsVeryManyRecentKills"  "recentkills"               ">3"   required
criterion "IsInvulnerable"  "invulnerable"               "1"   required weight 10

criterion "IsOnFriendlyControlPoint"  "OnFriendlyControlPoint"	"0"   required
criterion "IsOnCappableControlPoint"  "OnCappableControlPoint"	"1"   required

criterion "WeaponIsLaserPointer" "playerweapon" "tf_weapon_laser_pointer" "required"
criterion "WeaponIsMinigun" "playerweapon" "tf_weapon_minigun" "required"
criterion "WeaponIsMinifun" "playerweapon" "tf_weapon_minifun" "required"
criterion "WeaponIsTomislav" "playerweapon" "tf_weapon_minigun_tomislav" "required"
criterion "WeaponIsShotgun" "playerweapon" "tf_weapon_shotgun" "required" 
criterion "WeaponIsShotgunSoldier" "playerweapon" "tf_weapon_shotgun" "required"
criterion "WeaponIsShotgunHwg" "playerweapon" "tf_weapon_shotgun" "required"
criterion "WeaponIsShotgunPyro" "playerweapon" "tf_weapon_shotgun" "required"
criterion "WeaponIsFists" "playerweapon" "tf_weapon_fists" "required"
criterion "WeaponIsFlamethrower" "playerweapon" "tf_weapon_flamethrower" "required"
criterion "WeaponIsRainblower" "playerweapon" "tf_weapon_flamethrower_rb" "required"
criterion "WeaponIsAxe" "playerweapon" "tf_weapon_fireaxe" "required"
criterion "WeaponIsCrowbar" "playerweapon" "weapon_crowbar" "required"
criterion "WeaponIsSMG1" "playerweapon" "weapon_smg1" "required"
criterion "WeaponIsUSP" "playerweapon" "weapon_pistol" "required"
criterion "WeaponIsSyringe" "playerweapon" "tf_weapon_syringegun_medic" "required"
criterion "WeaponIsHeal" "playerweapon" "tf_weapon_medigun" "required"
criterion "WeaponIsBonesaw" "playerweapon" "tf_weapon_bonesaw" "required"
criterion "WeaponIsShotgunPrimary" "playerweapon" "tf_weapon_shotgun" "required"
criterion "WeaponIsPistol" "playerweapon" "tf_weapon_pistol" "required"
criterion "WeaponIsBuild" "playerweapon" "tf_weapon_builder" "required"
criterion "WeaponIsWrench" "playerweapon" "tf_weapon_wrench" "required"
criterion "WeaponIsWrangler" "playerweapon" "tf_weapon_laser_pointer" "required"
criterion "WeaponIsScattergun" "playerweapon" "tf_weapon_scattergun" "required"
criterion "WeaponIsScattergunDouble" "item_name" "Force-a-Nature" "required" weight 10
criterion "WeaponIsPistolScout" "playerweapon" "tf_weapon_pistol_scout" "required"
criterion "WeaponIsBat" "playerweapon" "tf_weapon_bat" "required"
criterion "WeaponIsAllClass" "playerweapon" "tf_weapon_allclass" "required"
criterion "WeaponIsWoodBat" "playerweapon" "tf_weapon_bat_wood" "required"
criterion "WeaponIsSniperrifle" "playerweapon" "tf_weapon_sniperrifle" "required"
criterion "WeaponIsSMG" "playerweapon" "tf_weapon_smg" "required"
criterion "WeaponIsSMGScout" "playerweapon" "tf_weapon_smg_scout" "required"
criterion "WeaponIsClub" "playerweapon" "tf_weapon_club" "required"
criterion "WeaponIsRevolver" "playerweapon" "tf_weapon_revolver" "required"
criterion "WeaponIsKnife" "playerweapon" "tf_weapon_knife" "required"
criterion "WeaponIsPipebomb" "playerweapon" "tf_weapon_pipebomblauncher" "required"
criterion "WeaponIsGrenade" "playerweapon" "tf_weapon_grenadelauncher" "required"
criterion "WeaponIsBottle" "playerweapon" "tf_weapon_bottle" "required"
criterion "WeaponIsSpyPDA" "playerweapon" "tf_weapon_pda_spy" "required"
criterion "WeaponIsRocket" "playerweapon" "tf_weapon_rocketlauncher" "required"
criterion "WeaponIsShovel" "playerweapon" "tf_weapon_shovel" "required"
criterion "WeaponIsFlaregun" "playerweapon" "tf_weapon_flaregun" "required"
criterion "WeaponIsLunchbox" "playerweapon" "tf_weapon_lunchbox" "required"
criterion "WeaponIsLunchboxDrink" "playerweapon" "tf_weapon_lunchbox_drink" "required"
criterion "WeaponIsGloves" "item_type_name" "#TF_Weapon_Gloves" "required" weight 10
criterion "WeaponIsKritzkrieg" "item_name" "Kritzkrieg" "required" weight 10
criterion "WeaponIsBow" "playerweapon" "tf_weapon_compound_bow" "required" weight 10
criterion "WeaponIsPickaxe" "playerweapon" "tf_weapon_pickaxe" "required" weight 10
criterion "WeaponIsDirectHit" "playerweapon" "tf_weapon_rocketlauncher_dh" "required" weight 10
criterion "WeaponIsBanner" "item_name" "Buff Banner" "required" weight 10
criterion "WeaponIsSword" "playerweapon" "tf_weapon_sword" "required" weight 10
criterion "WeaponIsKatana" "playerweapon" "tf_weapon_katana" "required" weight 10
criterion "WeaponIsDefender" "item_name" "Scottish Resistance" "required" weight 10
criterion "WeaponIsUbersaw" "item_name" "Ubersaw" "required" weight 10
criterion "WeaponIsFrontierJustice" "item_name" "Frontier Justice" "required" weight 10
criterion "WeaponIsRobotArm" "playerweapon" "tf_weapon_robot_arm" "required"
criterion "ItemIsGoldenWrench" "item_name" "Golden Wrench" "required" weight 10
criterion "WeaponIsShortstop" "item_name" "Shortstop" "required" weight 10
criterion "WeaponIsMadMilk" "item_name" "Mad Milk" "required" weight 10
criterion "WeaponIsHolyMackerel" "item_name" "Holy Mackerel" "required" weight 10

criterion "WeaponIsLeadPipe" "playerweapon" "tf_weapon_pipe" "required"
criterion "WeaponIsFlamethrower" "playerweapon" "tf_weapon_flamethrower" "required"
criterion "WeaponIsIron" "playerweapon" "tf_weapon_brandingiron" "required"
criterion "WeaponIsAxe" "playerweapon" "tf_weapon_fireaxe" "required"
criterion "WeaponIsSyringegun" "playerweapon" "tf_weapon_syringegun_medic" "required"
criterion "WeaponIsHeal" "playerweapon" "tf_weapon_medigun" "required"
criterion "WeaponIsSyringe" "playerweapon" "tf_weapon_syringe" "required"
criterion "WeaponIsShotgunPrimary" "playerweapon" "tf_weapon_shotgun_primary" "required"
criterion "WeaponIsShotgunScout" "playerweapon" "tf_weapon_shotgun_scout" "required"
criterion "WeaponIsPistol" "playerweapon" "tf_weapon_pistol" "required"
criterion "WeaponIsBuild" "playerweapon" "tf_weapon_builder" "required"
criterion "WeaponIsWrench" "playerweapon" "tf_weapon_wrench" "required"
criterion "WeaponIsScattergun" "playerweapon" "tf_weapon_scattergun" "required"
criterion "WeaponIsNailgun" "playerweapon" "tf_weapon_nailgun" "required"
criterion "WeaponIsPistolScout" "playerweapon" "tf_weapon_pistol_scout" "required"
criterion "WeaponIsBat" "playerweapon" "tf_weapon_bat" "required"
criterion "WeaponIsSniperrifle" "playerweapon" "tf_weapon_sniperrifle" "required"
criterion "WeaponIsSMG" "playerweapon" "tf_weapon_smg" "required"
criterion "WeaponIsMedicSMG" "playerweapon" "tf_weapon_smg_medic" "required"
criterion "WeaponIsScoutSMG" "playerweapon" "tf_weapon_smg_scout" "required"
criterion "WeaponIsClub" "playerweapon" "tf_weapon_club" "required"
criterion "WeaponIsMachete" "playerweapon" "tf_weapon_machete" "required"
criterion "WeaponIsRevolver" "playerweapon" "tf_weapon_revolver" "required"
criterion "WeaponIsTranq" "playerweapon" "tf_weapon_tranq" "required"
criterion "WeaponIsSpyPistol" "playerweapon" "tf_weapon_pistol_spy" "required"
criterion "WeaponIsKnife" "playerweapon" "tf_weapon_knife" "required"
criterion "WeaponIsPipebomb" "playerweapon" "tf_weapon_pipebomblauncher" "required"
criterion "WeaponIsGrenade" "playerweapon" "tf_weapon_grenadelauncher" "required"
criterion "WeaponIsBottle" "playerweapon" "tf_weapon_bottle" "required"
criterion "WeaponIsSpyPDA" "playerweapon" "tf_weapon_pda_spy" "required"
criterion "WeaponIsRocket" "playerweapon" "tf_weapon_rocketlauncher" "required"
criterion "WeaponIsShovel" "playerweapon" "tf_weapon_shovel" "required"

criterion "IsCrossHairEnemy" "crosshair_enemy" "Yes" "required" 
criterion "IsNotCrossHairEnemy" "crosshair_enemy" "!=Yes" "required" 

criterion "WeaponIsMiniSentrygun" "customdeath" "minisentrygun" "required"
criterion "WeaponIsSentrygun" "customdeath" "sentrygun" "required"
criterion "WeaponIsNotSentrygun" "customdeath" "" "required"
criterion "WeaponIsNotSentry" "customdeath" "none" "required"


criterion "DeployedContext" "sniperzoomed" "1" "required"
criterion "ConceptFireWeapon" "Concept" "TLK_FIREWEAPON" required
criterion "ConceptFireMinigun" "Concept" "TLK_FIREMINIGUN" required
criterion "ConceptWindMinigun" "Concept" "TLK_WINDMINIGUN" required
criterion "LowHealthContext" "playerhealthfrac" "<0.25" required
criterion "SuperHighHealthContext" "playerhealthfrac" ">1.400" required
criterion "GameRulesInWinState" "GameRound" "5" required
criterion "PlayerLostPreviousRound" "LostRound" "1" required
criterion "PlayerOnWinningTeam" "OnWinningTeam" "1" required
criterion "PlayerOnLosingTeam" "OnWinningTeam" "0" required

criterion "IsFiringMinigun" "minigunfiretime" ">0.0" required
criterion "TimeFiringMinigunShort" "minigunfiretime" ">4.0,<=8.0" required
criterion "TimeFiringMinigunLong" "minigunfiretime" ">8.0,<=15.0" required
criterion "TimeFiringMinigunReallyLong" "minigunfiretime" ">15.0" required
criterion "ConceptFireMinigunTalk" "Concept" "TLK_MINIGUN_FIREWEAPON" "required"
Criterion "NotDefendOnThePointSpeech" "worldDefendOnThePointSpeech" "!=1" "required" weight 0

criterion "IsHalloweenTaunt" "IsHalloweenTaunt" "1" "required" weight 100


criterion "ConceptRequestDuel" "Concept" "TLK_REQUEST_DUEL" required
criterion "ConceptDuelRejected" "Concept" "TLK_DUEL_WAS_REJECTED" required
criterion "ConceptIAcceptDuel" "Concept" "TLK_ACCEPT_DUEL" required
criterion "ConceptDuelAccepted" "Concept" "TLK_DUEL_WAS_ACCEPTED" required




criterion "DuelTargetIsScout" "dueltargetclass" "Scout" required
criterion "DuelTargetIsSniper" "dueltargetclass" "Sniper" required
criterion "DuelTargetIsSoldier" "dueltargetclass" "Soldier" required
criterion "DuelTargetIsDemoman" "dueltargetclass" "Demoman" required
criterion "DuelTargetIsMedic" "dueltargetclass" "Medic" required
criterion "DuelTargetIsHeavy" "dueltargetclass" "Heavy" required
criterion "DuelTargetIsPyro" "dueltargetclass" "Pyro" required
criterion "DuelTargetIsSpy" "dueltargetclass" "Spy" required
criterion "DuelTargetIsEngineer" "dueltargetclass" "Engineer" required


       


// Test rules 
#include "talker/tf.txt"
#include "talker/Heavy.txt"
#include "talker/Scout.txt"
#include "talker/Engineer.txt"
#include "talker/Civilian_.txt"
#include "talker/Sniper.txt"
#include "talker/Soldier.txt"
#include "talker/Demoman.txt"
#include "talker/Medic.txt"
#include "talker/Pyro.txt"
#include "talker/Spy.txt"

// we can just make our own
//#include "talker/l4d2/terror_player.txt"
